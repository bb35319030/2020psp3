# 課題3 レポート
学生番号　氏名


## 課題  

以下の2つのアルゴリズムで文字列を検索するプログラムを作成する。  
- 力ずく法
- BM法

1. 使用するデータ  
以下のデータを使用する。ただし、検索対象文字列、検索する文字列は変更しても良い。  
    - StrOriginal: 検索対象データ
    - StrKey: 検索する文字列

2. 必須問題：実装する関数  
本課題では、以下の関数を実装する。C言語の標準ライブラリは使用しないこと。  
    (1) ForceSearch: 力ずく法で文字列を検索する。  
    [入力]  
    - char text[]: 検索対象文字列  
    - char key[]: 検索する文字列  

    [出力]  
    - return値：検索する文字列が出現した場所(ポインタ)。ただし、検索する文字列が見つからない場合はNULL。  

    (2) BMSearch: BM法で文字列を検索する。  
    [入力]  
    - char text[]: 検索対象文字列  
    - char key[]: 検索する文字列  
 
    [出力]  
    - return値：検索する文字列が出現した場所(ポインタ)。ただし、検索する文字列が見つからない場合はNULL。  

3. 補助関数  
なし

## ソースコードの説明
13-15:int型でstart（比較開始位置）,pos（比較場所）,findを宣言
16:text(探索対象文字列)の長さをtext_lenとする
17:key（探索する文字列）の長さをkey_lenとする
18:find=0とおく
19:(text_len - key_len)回繰り返す
20:(key_len)回繰り返す
21:今比較している探索する文字列の一部と探索対象文字列の一部が等しくなるか判断する
22-26:探索する文字列が探索対象文字列内にあった場合、find=1として、（key_len）回の繰り返しを抜ける
27-30:今比較している探索する文字列の一部と探索対象文字列の一部が等しくならない場合、（key_len）回の繰り返しを抜ける
31-34:探索する文字列が探索対象文字列内にあった場合、探索を終了する
35-37:探索する文字列が探索対象文字列内にあった場合、検索する文字列が出現した場所を返す
38-40:探索する文字列が探索対象文字列内になかった場合、NULLを返す

45-48:int型でindex（比較位置）,key_index（キーの比較位置）,find,index_bf（一つ前のindex）を宣言
49:text(探索対象文字列)の長さをtext_lenとする
50:key（探索する文字列）の長さをkey_lenとする
51:table(ずらし量テーブル)を宣言
52:find=0とおく
53-55:不⼀致となった場合、⽂字毎にずらす量をすべて（key_len）にする
56-58:不⼀致となった場合、ずらす量を探索文字列の左端の文字から(key_len-1),(key_len-2),…,2,1,0となるようにする
59:最初の⽐較場所をキー⽂字列の末尾にする
60:⽐較位置が、探索対象⽂字列の中にある間は繰り返す
61-62:（key_len）回繰り返し、index_bfにindexを代入しておく
63-64:今比較している探索する文字列の一部と探索対象文字列の一部が等しくなる場合、一つ前の文字も比較できるようにindexを一つ前にずらす
65-68:探索する文字列が探索対象文字列内にあった場合、find=1として、（key_len）回の繰り返しを抜ける
69-71:探索する文字列が探索対象文字列内になかった場合、ずらし量テーブルを参照し、次の
⽐較位置を決める
72-76:探索する文字列が探索対象文字列内になかった場合で、かつ前回よりも⽐較開始位置が
前に戻る場合、⽐較位置を前回の開始位置より⼀つ後ろにする
77-80:探索する文字列が探索対象文字列内にあった場合、探索を終了する
81-82:探索する文字列が探索対象文字列内にあった場合、検索する文字列が出現した場所を返す
83-87:探索する文字列が探索対象文字列内になかった場合、NULLを返す


## 出力結果

Force Search. Find keyword at:wind in my hair.
BM Search. Find keyword at:wind in my hair.

## 修正履歴
61:key_index = key_len; key_index>0; としていたものをkey_index=key_len-1; key_index >= 0;に変更
65:key_index == 1としていたものをkey_index == 0に変更
81:key_index == 1としていたものをkey_index == 0に変更

